services:
  dagster:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: dagster
    volumes:
      - .:/dags
      - .:/dagster_home
      - .:/dbt_project
    ports:
      - ${DAGSTER_PORT}:${DAGSTER_PORT}
    env_file:
      - ./../../.env
      - .env
    command: poetry run dagster dev -p ${DAGSTER_PORT} -h 0.0.0.0
networks:
  default:
    name: sn-mono-network
    driver: bridge
    external: true
